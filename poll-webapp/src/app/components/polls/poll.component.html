<top-nav></top-nav>

<div class="container-fluid container-block" (window:scroll)="onScroll($event)">

    <div class="col-md-4 mt-5" *ngFor = "let question of pollQuestions.questions; let i = index">

      <div class="card card-layout mt-5" style="">
        <div class="text-center">
          <img class="rounded-circle" src="./assets/images/question1.jpg" alt="Card image cap" style="height:150px; width: 150px; margin-top:-4rem;">
        </div>

        <div class="card-block">
          <h5 class="card-title">
              {{question.pollQuestion}}
          </h5>

          <div class="" *ngIf="!question.isAnswered">
            <div class="" *ngFor = "let option of question.options">
            <a class="btn btn-block btn-success mt-2 a-color" (click) = "vote(option.optionId, question.questionId)">{{option.optionValue}}</a>
          </div>
        </div>
          <div class="" *ngIf="question.isAnswered">
            <div class="progress-bar-div" *ngFor = "let option of question.options">
              <div class="">
                  {{option.optionValue}}
              </div>
                <ngb-progressbar type="success" [value]=calculatePercentage(option.voteCount,question.totalVotes)>{{calculatePercentage(option.voteCount,question.totalVotes)}}%</ngb-progressbar>
            </div>
          </div>
        </div>
      </div>
    </div>
</div>
